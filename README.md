# Проект Mesto (Яндекс.практикум)
Смотрим, создаём, лайкаем, удаляем карточки мест.
Сервер на node.js
База данных на Mongo (взаимодействие через библиотеку mongoose)

Сайт: https://mesto.website  (пока только api)

## Схемы коллекций в MongoDB:

Пользователь:
* name;
* about;
* avatar;
* email;
* password;

Поле email уникально, поля email и avatar валидируются.

Карточка:
* name;
* link;
* owner;
* likes;
* createdAt;

Поле линк валидируется

## Что делает API:

1. Запрос GET /users озвращает всех пользователей из базы.
2. Запрос GET /users/:userId возвращает конкретного пользователя.
3. Запрос POST /signup создаёт пользователя.
4. Запрос POST /signin авторизует пользователя.
4. Запрос GET /cards возвращает все карточки всех пользователей.
5. Запрос POST /cards создаёт карточку.
6. Если в любом из запросов что-то идёт не так, сервер возвращает ответ с ошибкой и соответствующим ей статусом. 

Все запросы, кроме signin и signup защищены авторизацией(сформированный токен сохраняется в http-only куки).

## Спринт-14

Делаем сервер с API на express node.js с базой MongoDB (взаимодействие через mongoose).

* команда npm run start запускает сервер на localhost:3000;
* команда npm run dev запускает сервер на localhost:3000 с хот релоудом;
* Node.js приложение подключается к серверу Mongo по адресу mongodb://localhost:27017/mestodb.
* созданы схемы пользователя и карточки.

## Спринт-15

Деплоим сервер на яндекс.облако

* обработка ошибок происходит централизованно;
* тела, заголовки и параметры запросов валидируется с помощью библиотек celebrate и Joi перед тем, как они передаются контроллеру;
* настроено логирования запросов и ошибок в соответствующие файлы;
* настроено доменное имя с возможностью обратиться по протоколам http и https;
* настроен ssl-сертификат для mesto.website и www.mesto.website;
* ключ для создания и верификации JWT хранится на сервере в .env файле;
